<div *ngIf="!footerData.deleted">
  <div *ngIf="!footerData.done; else display" class="wrapper">

    <ion-textarea class="inputLabel" [(ngModel)]="values.data.label" (change)="saveChanges()" auto-grow="true" rows="1"
      placeholder="Enter label here">
    </ion-textarea>
    <ion-textarea class="inputLabel otherInfo" [(ngModel)]="values.data.instructions" (change)="saveChanges()"
      auto-grow="true" rows="1" placeholder="Enter other info or instructions here (optional)">
    </ion-textarea>




    <div class="inputChoice">
      <div class="choices">
        <p *ngIf="values.data.choices.length == 0" class="noChoice">
          No choices yet
        </p>
        <div *ngFor="let choice of values.data.choices; let i = index">
          <div class="choiceText">{{choice}}</div>
          <div (click)="values.data.choices = values.data.choices.splice(i, 1);saveChanges()" class="removeChoice">
            <ion-icon name="close-outline" class="popupIcon"></ion-icon>
          </div>
        </div>
      </div>

      <ion-textarea class="inputLabel" [(ngModel)]="choiceInput" auto-grow="true" rows="1"
        placeholder="Enter option here">
      </ion-textarea>
      <div class="addChoice">
        <p [class.disabledBtn]="!choiceInput" (click)="enteredText = choiceInput; 
            enteredText? values.data.choices.push(enteredText): '';
            choiceInput = null; 
            enteredText? saveChanges(): ''">Add Choice</p>
      </div>
    </div>

    <div class="settings">
      <div class="options" slot="end">Required for submission<ion-toggle (click)="saveChanges()"
          [(ngModel)]="values.data.required" [checked]="values.data.required"></ion-toggle>
      </div>
    </div>

    <app-element-footer [data]="footerData" (openDeleteCon)="clickOtherFunction = true" (render)="render()"
      (delete)="delete()">
    </app-element-footer>

  </div>
  <ng-template #display>
    <div class="componentWrapper">
      <app-edit-or-delete-popup *ngIf="showPopup" [isDefault]="values.default"
        (edit)="footerData.done = false; showPopup = false" (delete)="delete()" (close)="showPopup = false"
        [deleting]="footerData.saving" class="componentPopup"></app-edit-or-delete-popup>
      <app-choices-input-display (click)="showPopup = true" [values]="values"></app-choices-input-display>
    </div>
  </ng-template>
</div>