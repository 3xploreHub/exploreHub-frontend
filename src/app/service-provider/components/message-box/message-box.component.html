<div *ngIf="message.message" (click)="showDate = !showDate" [class.right]="position == 'right'" class="messageBox">
  <div class="boxHeader">
    <div *ngIf="!message.noSender  && mainService.user._id != message.sender" class="profilePhoto">
      <div class="pPhoto">
        <ion-icon name="person-outline"></ion-icon>
      </div>
    </div>

    <div class="userInfo">
      <div class="userName" *ngIf="!message.noSender && mainService.user._id != message.sender">
        {{message.senderFullName}}</div>
      <div *ngIf="showDate || message.createdAt == 'Sending...'" class="date">{{ message.createdAt == "Sending..." ?
        "Sending..." : message.createdAt | date:'short'}}</div>
    </div>
  </div>
  <div class="messageHolder">

    <div class="messageContent" *ngIf="message.withMedia; else plainText" [innerHTML]="message.message">
    </div>
    <ng-template #plainText>
      <div class="messageContent" [innerHTML]="message.message"></div>
    </ng-template>
  </div>
</div>