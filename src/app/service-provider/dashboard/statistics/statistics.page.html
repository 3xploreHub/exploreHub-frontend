<div class="menu boxShadowed">
  <div class="tab">Services Statistics</div>
  <div class="tab">Income Statistics</div>
</div>
<div (click)="clickOutside($event)">
  <div class="itemList boxShadowed" *ngFor="let service of services">
    <div class="itemName">
      <p>
        {{service.data[0].data.text}}
      </p>
    </div>
    <div class="body">
      <div class="numStatus">
        <div class="quant totalTL">Total</div>
        <div class="quant total">
          <p class="qlabel">Quantity</p>
          <p class="num">{{getTotalQuantity(service)}}</p>
        </div>
        <div class="quant booked">
          <p class="qlabel">Booked</p>
          <p class="num">0</p>
        </div>
        <div class="quant available">
          <p class="qlabel">Available</p>
          <p class="num">{{getTotalQuantity(service)}}</p>
        </div>
      </div>
      <div class="items">
        <div class="searchItem">
          <p>
            {{countServices(service) + ' item'+(countServices(service) > 0? 's': '')}}
          </p>
          <input *ngIf="countServices(service) > 8" type="text" placeholder="Search">
        </div>
        <div class="scrollable">
          <div class="item" *ngFor="let item of filterItem(service.data); let i = index"  [class.fadeItem]="itemClicked != item._id && itemClicked" >
            <div [class.first]="i == 0" (click)="clickItem($event)" *ngIf="itemClicked == item._id"
              class="updateItem boxShadowed2">
              <div class="amountCont">
                Amount
                <input type="number" class="amountToAdd" (keyup)="checkAmount()" [(ngModel)]="amount">
              </div>
              <div class="innerCont">
                <div [class.updating]="updating" (click)="updateItemQuantity($event, service._id, item)"
                  class="updateBtn ion-activatable ripple-parent">
                  <ion-icon name="remove-outline">
                  </ion-icon>
                  <ion-ripple-effect *ngIf="!updating"></ion-ripple-effect>
                </div>

                <div class="quantCount">
                  <span>Quantity</span>
                  {{getValue(item.data, 'quantity')}}
                  <div class="updatingQuan" *ngIf="updating">
                    <ion-spinner class="spinner" name="lines-small"></ion-spinner>
                  </div>
                </div>
                <div [class.updating]="updating" (click)="updateItemQuantity($event, service._id, item, true)"
                  class="updateBtn ion-activatable ripple-parent">
                  <ion-icon name="add-outline"></ion-icon>
                  <ion-ripple-effect *ngIf="!updating"></ion-ripple-effect>
                </div>
              </div>
            </div>
            <div>
              <div class="itemTitle">{{getItemName(item)}}
                <div (click)="clickItem($event); itemClicked = item._id" class="editIcon ion-activatable ripple-parent">
                  <ion-icon name="ellipsis-horizontal-outline"></ion-icon>
                  <ion-ripple-effect></ion-ripple-effect>
                </div>

              </div>
              <div class="itemStats">
                <div class="statsNum">
                  <span>
                    Quantity
                  </span>
                  {{getValue(item.data, 'quantity')}}
                </div>
                <div class="statsNum withBorder">
                  <span>
                    Booked

                  </span>
                  0
                </div>
                <div class="statsNum withBorder">
                  <span>
                    Available
                  </span>
                  {{getValue(item.data, 'quantity')}}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>