<ion-header>
  <ion-toolbar>
    <ion-title>select-host-tourist-spot</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- <div style="text-align: right; background-color: rgb(228, 228, 228); padding: 10px;"><i>Where do you offer your
      service?</i>
  </div> -->
  <div class="select-spot-note">
    <h3 *ngIf="selectedSpots.length == 0">Select the spot you want to offer your service.</h3>
  </div>

  <div class="selected-spot">
    <div *ngFor="let selectedSpot of selectedSpots">
      <img src="{{selectedSpot.image}}" alt="Host Spot" style="width: 100%;">
    </div>

    <!-- <ion-slides [options]="option" class="ion-margin-top">
      <ion-slide *ngFor="let spot of selectedSpots">
        <ion-card style="display: block;">
          <ion-icon name="close" class="cancel-btn" (click)="cancelSelectedSpot(spot)"></ion-icon>
          <img src="{{spot.image}}">
          <p><b>{{spot.name}}</b>
            <p>
        </ion-card>
      </ion-slide>
    </ion-slides> -->
  </div>

  <!-- STICKY POSITIONING FOR SEARCH BAR AND THE TAB FOR CATEGORY OF SPOTS -->
  <div class="select-host-spot" style="
  color: #1c2c41;
  position: sticky;
  position: -webkit-sticky;
  top: 0;
  z-index: 1;
  background-color: white;">
    <div class="host-spot-name">
      <ion-label *ngIf="selectedSpots.length !== 0;">
        {{selectedSpots[0].name}}</ion-label>
      <ion-label *ngIf="selectedSpots.length == 0;">No selected spot yet!</ion-label>
    </div>
    <!-- <ion-label #noSpotSelected style="font-size: 18px;">No selected spot yet!</ion-label> -->

    <ion-row>
      <ion-col>
        <ion-button expand="block" (click)="cancelSelectedHostSpot()" [disabled]="selectedSpots.length == 0"
          color="warning">
          Cancel&nbsp;<ion-icon name="close" style="font-size: 18px;"></ion-icon>
        </ion-button>
      </ion-col>
      <ion-col>
        <ion-button expand="block" (click)="submitSelectedHostSpot()" [disabled]="selectedSpots.length == 0">
          Next&nbsp;&nbsp;
          <ion-icon name="send" style="font-size: 18px;"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>
    <hr style="border-bottom: 1px solid gray;">

    <div>
      <ion-searchbar (keyup)="onKey($event)" name="searchInput" [(ngModel)]="searchInput" placeholder="search spot"
        style="width:100%">
      </ion-searchbar>
    </div>
    <div>
      <ul>
        <li *ngFor="let spotName of allSpotsName | search: searchInput">
          {{spotName}}
        </li>
      </ul>
    </div>
    <!-- <div class="nav-spot-category" style="background-color: rgb(194, 238, 207);box-shadow: 0 4px 2px -2px gray;">
      <ion-label class="item-spot-category" *ngFor="let category of sampleCategory"
        (click)="displayListOfSpotsInCategory(category)"
        style="text-transform:uppercase !important; padding: 20px 15px; font-weight: bold;">{{category.name}}
      </ion-label>
    </div> -->
  </div>
  <div class="item-spot">
    <ion-grid *ngFor="let spot of spotsListCategory">
      <ion-row style="border-bottom: 1px solid rgb(173, 173, 173);" (click)="showDetails(spot)">
        <ion-col>
          <img src="{{spot.image}}" alt="Host Tourist Spot" class="spot-image-in-list">
        </ion-col>
        <ion-col size="8">
          <!-- <ion-icon *ngIf="selected" name="information-circle" style="float: right; font-size: 18px; color: green;" (click)="showDetails(spot)"></ion-icon> -->
          <!-- <ion-icon name="information-circle" style="float: right; font-size: 18px;" (click)="showDetails(spot)"></ion-icon> -->
          <!-- <ion-icon *ngIf="hostSpot.selected == true" name="checkmark-circle" style="float: right; font-size: 18px;" color="success"></ion-icon> -->
          <div class="spot-name-description">
            <b>{{spot.name}}</b><br>{{spot.description}}
          </div>
          <!-- <button style="height: 10px;">select</button>
          <button style="height: 10px;">details</button> -->
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <div id="spot-details" *ngIf="show === true">
    <div class="spot-details-2">
      <div>
        <img src="../../../assets/images/host-tourist-spot.jpg" alt="Host Tourist Spot" class="spot-image-in-list">
        <p><b>{{yourHostSpot.name}}</b></p>
      </div>
      <div class="primary-spot-details">
        <div>
          <ion-label>Location: {{yourHostSpot.location}}</ion-label>
        </div>
        <div>
          <ion-label>Description: {{yourHostSpot.description}}</ion-label>
        </div>
      </div>
      <div>
        <ion-row class="select-cancel-btn">
          <ion-col>
            <ion-button *ngIf="yourHostSpot.selected == true" expand="block" (click)="selectTouristSpot()"
              [disabled]="hostSpot.selected == true" color="success">Selected</ion-button>
            <ion-button *ngIf="yourHostSpot.selected == false" expand="block" (click)="selectTouristSpot()">Select
            </ion-button>
          </ion-col>
          <ion-col>
            <ion-button expand="block" (click)="closeSpotDetails()" color="warning">Close</ion-button>
          </ion-col>
        </ion-row>
      </div>
    </div>
  </div>
</ion-content>